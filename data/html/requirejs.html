<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="update_time" content="1518501343">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>RequireJs学习笔记</title>
    <link rel="shortcut icon" type="images/x-icon" href="/favicon.png?v1518501343">
    <link rel="stylesheet" href="../../css/reset.css?v1518501343">
    <link rel="stylesheet" href="../../css/md.css?v1518501343">
    <link rel="stylesheet" href="../../css/module.css?v1518501343">
    <link rel="stylesheet" href="../../dep/highlight/style/monokai_sublime.css?v1518501343">
    <script src="../../dep/require.js?1518501343"></script>
</head>
<body>
<div class="md"><h1>RequireJs学习笔记</h1>
<h6>20180211</h6>
<p>RequireJs是一个JavaScript文件和模块加载器。
采用模块化脚本加载器像RequireJS将提高速度和代码质量。</p>
<h2>RequireJs的用法</h2>
<ol>
<li>获取RequireJs</li>
</ol>
<p><a href="http://requirejs.org/docs/download.html">下载链接</a></p>
<ol start="2">
<li>添加RequireJs</li>
</ol>
<pre><code class="language-html" data-comment="">&lt;!DOCTYPE html&gt;
&lt;!--
    project.html
    scripts/
        main.js
        require.js
        helper/
            util.js
--&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;My Sample Project&lt;/title&gt;
        &lt;!-- data-main attribute tells require.js to load
             scripts/main.js after require.js loads. --&gt;
        &lt;script data-main="scripts/main" src="scripts/require.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;My Sample Project&lt;/h1&gt;
        &lt;script&gt;
            requirejs(["helper/util"], function(util) {
                //This function is called when scripts/helper/util.js is loaded.
                //If util.js calls define(), then this function is not fired until
                //util's dependencies have loaded, and the util argument will hold
                //the module value for "helper/util".
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
<ol start="3">
<li>优化</li>
</ol>
<p>压缩合并依赖文件</p>
<ol start="4">
<li>栗子</li>
</ol>
<ul>
<li><a href="https://github.com/volojs/create-template">create-template</a></li>
</ul>
<pre><code class="language-txt" data-comment="目录结构">create-template/
    app/
        main.js
        messages.js
    lib/
        print.js
        require.js
    app.js
    index.html</code></pre>
<pre><code class="language-html" data-comment="index.html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;script data-main="app" src="lib/require.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Hello World&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
<pre><code class="language-js" data-comment="app.js">// For any third party dependencies, like jQuery, place them in the lib folder.

// Configure loading modules from the lib directory,
// except for 'app' ones, which are in a sibling
// directory.
requirejs.config({
    baseUrl: 'lib',
    paths: {
        app: '../app'
    }
});

// Start loading the main app file. Put all of
// your application logic in there.
requirejs(['app/main']);</code></pre>
<pre><code class="language-js" data-comment="app/main.js">define(function (require) {
    // Load any app-specific modules
    // with a relative require call,
    // like:
    var messages = require('./messages');

    // Load library/vendor modules using
    // full IDs, like:
    var print = require('print');

    print(messages.getHello());
});
</code></pre>
<pre><code class="language-js" data-comment="app/messages.js">define(function () {
    return {
        getHello: function () {
            return 'Hello World';
        }
    };
});
</code></pre>
<pre><code class="language-js" data-comment="lib/print.js">define(function () {
    return function print(msg) {
        console.log(msg);
    };
});
</code></pre>
<ul>
<li><a href="https://github.com/requirejs/example-multipage">example-multipage</a></li>
<li><a href="https://github.com/requirejs/example-multipage-shim">example-multipage-shim</a></li>
</ul>
<h2>参考</h2>
<p><a href="http://requirejs.org/">RequireJs</a></p>
<h6>20180211</h6></div>
<script >
    requirejs(['../../js/conf/r'], function(rc) {
        requirejs(['../js/html']);
    });
</script>
</body>
</html>